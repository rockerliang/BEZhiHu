

##做一个类似于知乎日报的项目，包括首页和查看新闻详情（提供了API）
 


###2015/1/18 思路：

下载了一个知乎日报app，看了下。首页主要是一个tabelview，用来展示新闻。tableview的headerView是一个循环滚动的scrollerview，tableviewCell是自定义的cell，包括一张图片和一个label（可以自动换行）。从效果来看，貌似不需动态计算cell的高度，每个cell的高度一致（基本是图片的高度，图片大小都一样），如果label内容过多，则已省略号...表示。点击cell，进入到一个webview用来展示详细新闻页～（做到这里就算可以了，但是如果在详情页有交互的话，就要用到Hybrid了？）。

对了，还有首页的部分动画效果。。上推，图片字体渐渐透明，还有两个view的折叠效果，很多app都用到了，正好借此机会，做一下。思路基本就是根据scrollview的偏移量，来计算透明度，移动位置，做一下看看吧。

网路请求，必须的AFNetworking，我用的3.0.4，应该是最新版本的，封装了一下，直接拿来用。对了，第三方库，本项目用cocoapods来管理。

不多说了，开始做。


###2015/1/19 首页和详情页面的开发：

设计模式是用了MVC的模式，Model－View－Controller。Model层，是单条新闻所包含的属性(BEScrollPageSubject)。View层就是各种UI的实现了。Controller控制层里面就是对Model和view的控制了。

####首页的开发

按照之前的设计思路，来做新闻首页的开发，页面的布局和请求数据，都已经完成，有部分动态效果还没有实现。


####新闻详情页面的开发
新闻详情页面，原来想的太简单了，以为只要一个webview加载html5数据就可以了，做起来才发现，没这么简单。通过详情API请求下来的数据，有个body，以为只要把body的数据加到webview上就可以了，但现实是行不通的。。body里面就真的只有一个body，也没有< head>啊，样式css也没有啊，导致布局乱了。没有就自己拼接，在body前面拼上
<pre>< code>< head>
    < title>< /title>
    < link rel="stylesheet" type="text/css" href="http://news-at.zhihu.com/css/news_qa.auto.css?v=77778">
< /head>
</code></pre>
就可以了。其中的href的数据也是通过API请求下来的。运行程序，发现格式正确了。。很多事没有想象中那么容易，在这花了点时间研究。(还尝试找第三方库，把html5全部解析一遍，自己做图文适配，发现也是可行的，网易新闻貌似就这么做的，可能需要花点时间，但那样交互性更好)。

####还存在的问题：
 1.首页下拉，上拉时候的view重叠动态效果还没完成 ;
  
 2.首页下拉刷新数据的圆圈的动画效果还未实现 ;  
 
 3.首页左边滑出的菜单栏还没有实现。
 
 

更新中。。。。。


